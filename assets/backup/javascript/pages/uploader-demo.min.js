"use strict";$(function(){var e="//jquery-file-upload.appspot.com/";$("#fileupload-avatar").fileupload({url:e,dropZone:null,dataType:"json",autoUpload:!0,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:2e6}).on("fileuploadprocessalways",function(e,t){var a=t.index,o=t.files[a];$("#avatar-warning-container").removeClass("show").text(""),o.error&&$("#avatar-warning-container").addClass("show").text(o.error)}).on("fileuploadprogressall",function(e,t){var a=parseInt(t.loaded/t.total*100,10);$("#progress-avatar").addClass("show").children().css("width",a+"%")}).on("fileuploaddone",function(e,t){var a=t.result.files[0],o=$(this).parent().children("img");o.prop("src");a.url?o.prop("src",a.url):a.error&&$("#avatar-warning-container").addClass("show").text(a.error),$("#progress-avatar").removeClass("show").children().css("width",0)});var n=$("<button/>").addClass("btn btn-sm btn-secondary").prop("disabled",!0).text("Processing...").on("click",function(){var e=$(this),t=e.data();e.off("click").text("Abort").on("click",function(){t.abort()}),t.submit().always(function(){$("#progress").removeClass("show").children().css("width",0)})}),l=$("<button/>").addClass("btn btn-sm btn-secondary").html('<i class="far fa-trash-alt"></i>').on("click",function(){$(this).parents(".list-group-item").remove()}),i=$("<button/>").addClass("btn btn-sm btn-secondary").text("Done").on("click",function(){$(this).parents(".list-group-item").fadeOut()});$("#fileupload-customInput, #fileupload-btn, #fileupload-dropzone").fileupload({url:e,dropZone:null,dataType:"json",autoUpload:!1,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:999e3,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),previewMaxWidth:100,previewMaxHeight:100,previewCrop:!0}).on("fileuploadadd",function(e,i){i.context=$("<div/>").addClass("list-group-item").prependTo("#uploadList"),$.each(i.files,function(e,t){var a=$("<h4/>").addClass("list-group-item-title").text(t.name),o=$("<div/>").addClass("list-group-item-body").append(a);if(!e){var r=$("<div/>").addClass("list-group-item-figure").append(n.clone(!0).data(i));i.context.append(r)}o.prependTo(i.context)})}).on("fileuploadprocessalways",function(e,t){var a,o=t.index,r=t.files[o],i=$(t.context.children()[o]),n=void 0;n=r.preview?$("<div/>").addClass("user-avatar").append(r.preview):$("<div />").addClass("tile tile-circle bg-danger").text("NA"),a=$("<div/>").addClass("list-group-item-figure").append(n),t.context.prepend(a),o+1===t.files.length&&t.context.find("button").text("Upload").prop("disabled",!!t.files.error),r.error&&(i.append($('<p class="list-group-item-text text-red"/>').text(r.error)),i.next().html(l.clone(!0)))}).on("fileuploadprogressall",function(e,t){var a=parseInt(t.loaded/t.total*100,10);$("#progress").addClass("show").children().css("width",a+"%")}).on("fileuploaddone",function(e,r){$.each(r.result.files,function(e,t){if(t.url){var a=$("<a>").attr("target","_blank").prop("href",t.url);r.context.find(".list-group-item-title").wrapInner(a),r.context.children().last().html(i.clone(!0))}else if(t.error){var o=$('<p class="list-group-item-text text-red"/>').text(t.error);r.context.children(".list-group-item-body").append(o),r.context.children().last().html(l.clone(!0))}})}).on("fileuploadfail",function(e,a){$.each(a.files,function(e){var t=$('<p class="list-group-item-text text-red"/>').text("File upload failed.");$(a.context).children(".list-group-item-body").append(t),a.context.children().last().html(l.clone(!0))})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled");var t=$("#dropzone");$("#fileupload-dropzone").fileupload("option","dropZone",t),t.on("dragover",function(){t.addClass("hover")}).on("drop dragleave",function(){t.removeClass("hover")})});